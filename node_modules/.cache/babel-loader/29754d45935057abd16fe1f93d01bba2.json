{"ast":null,"code":"import _slicedToArray from\"C:/Users/iHelp-09/Desktop/ihelpv7/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import ScrollAnimation from\"react-animate-on-scroll\";import{FiArrowRight}from\"react-icons/fi\";import{Link,useHistory}from\"react-router-dom\";import{Input}from\"reactstrap\";import axios from\"../axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginScreen=function LoginScreen(){var history=useHistory();var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var changeEmail=function changeEmail(e){var newEmail=e.target.value;setForm(function(formBefore){return{email:newEmail,password:formBefore.password};});};var changePassword=function changePassword(e){var newPassword=e.target.value;setForm(function(formBefore){return{email:formBefore.email,password:newPassword};});};var handleClick=function handleClick(){var data={email:form.email,password:form.password};axios.post(\"users/login\",data).then(function(result){console.log(result);var token=result.data.token;var userId=result.data.user._id;localStorage.setItem(\"token\",token);localStorage.setItem(\"userId\",userId);history.push(\"/admin\");});};return/*#__PURE__*/_jsx(\"div\",{className:\"slider-area slider-style-2 variation-3 height-850 bg_image bg_image_fixed theme-shape\",style:{backgroundImage:\"url(\".concat(process.env.PUBLIC_URL,\"/images/bg/bg1.png)\")},children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u041D\\u044D\\u0432\\u0442\\u0440\\u044D\\u0445\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0418-\\u043C\\u044D\\u0439\\u043B \\u0445\\u0430\\u044F\\u0433\"}),/*#__PURE__*/_jsx(\"div\",{className:\"inner text-left\",children:/*#__PURE__*/_jsx(Input,{placeholder:\"\\u0418-\\u043C\\u044D\\u0439\\u043B \\u0445\\u0430\\u044F\\u0433\\u0430\\u0430 \\u043E\\u0440\\u0443\\u0443\\u043B\\u043D\\u0430 \\u0443\\u0443\",onChange:changeEmail,name:\"email\",type:\"email\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u041D\\u0443\\u0443\\u0446 \\u04AF\\u0433\"}),/*#__PURE__*/_jsx(\"div\",{className:\"inner text-left\",children:/*#__PURE__*/_jsx(Input,{type:\"password\",name:\"password\",placeholder:\"\\u041D\\u0443\\u0443\\u0446 \\u04AF\\u0433\\u044D\\u044D \\u043E\\u0440\\u0443\\u0443\\u043B\\u043D\\u0430 \\u0443\\u0443.\",onChange:changePassword})}),/*#__PURE__*/_jsx(ScrollAnimation,{animateIn:\"fadeInUp\",animateOut:\"fadeInOut\",animateOnce:true,className:\"button-group mt--20\",children:/*#__PURE__*/_jsxs(Link,{className:\"btn-default btn-border btn-icon\",to:\"#\",onClick:handleClick,children:[\"\\u041D\\u044D\\u0432\\u0442\\u0440\\u044D\\u0445\",/*#__PURE__*/_jsx(\"i\",{className:\"icon\",children:/*#__PURE__*/_jsx(FiArrowRight,{})})]})})]})})})});};export default LoginScreen;","map":{"version":3,"sources":["C:/Users/iHelp-09/Desktop/ihelpv7/src/screens/LoginScreen.js"],"names":["React","useState","ScrollAnimation","FiArrowRight","Link","useHistory","Input","axios","LoginScreen","history","email","password","form","setForm","changeEmail","e","newEmail","target","value","formBefore","changePassword","newPassword","handleClick","data","post","then","result","console","log","token","userId","user","_id","localStorage","setItem","push","backgroundImage","process","env","PUBLIC_URL"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport ScrollAnimation from \"react-animate-on-scroll\";\r\nimport { FiArrowRight } from \"react-icons/fi\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { Input } from \"reactstrap\";\r\nimport axios from \"../axios\";\r\n\r\nconst LoginScreen = () => {\r\n  let history = useHistory();\r\n  const [form, setForm] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const changeEmail = (e) => {\r\n    const newEmail = e.target.value;\r\n    setForm((formBefore) => ({\r\n      email: newEmail,\r\n      password: formBefore.password,\r\n    }));\r\n  };\r\n  const changePassword = (e) => {\r\n    const newPassword = e.target.value;\r\n    setForm((formBefore) => ({\r\n      email: formBefore.email,\r\n      password: newPassword,\r\n    }));\r\n  };\r\n\r\n  const handleClick = () => {\r\n    const data = {\r\n      email: form.email,\r\n      password: form.password,\r\n    };\r\n\r\n    axios.post(\"users/login\", data).then((result) => {\r\n      console.log(result);\r\n      const token = result.data.token;\r\n      const userId = result.data.user._id;\r\n\r\n      localStorage.setItem(\"token\", token);\r\n      localStorage.setItem(\"userId\", userId);\r\n      history.push(\"/admin\");\r\n    });\r\n  };\r\n  return (\r\n    <div\r\n      className=\"slider-area slider-style-2 variation-3 height-850 bg_image bg_image_fixed theme-shape\"\r\n      style={{\r\n        backgroundImage: `url(${process.env.PUBLIC_URL}/images/bg/bg1.png)`,\r\n      }}\r\n    >\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-6\">\r\n            <h1>Нэвтрэх</h1>\r\n            <h3>И-мэйл хаяг</h3>\r\n            <div className=\"inner text-left\">\r\n              <Input\r\n                placeholder=\"И-мэйл хаягаа оруулна уу\"\r\n                onChange={changeEmail}\r\n                name=\"email\"\r\n                type=\"email\"\r\n              />\r\n            </div>\r\n            <h3>Нууц үг</h3>\r\n            <div className=\"inner text-left\">\r\n              <Input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Нууц үгээ оруулна уу.\"\r\n                onChange={changePassword}\r\n              />\r\n            </div>\r\n\r\n            <ScrollAnimation\r\n              animateIn=\"fadeInUp\"\r\n              animateOut=\"fadeInOut\"\r\n              animateOnce={true}\r\n              className=\"button-group mt--20\"\r\n            >\r\n              <Link\r\n                className=\"btn-default btn-border btn-icon\"\r\n                to=\"#\"\r\n                onClick={handleClick}\r\n              >\r\n                Нэвтрэх\r\n                <i className=\"icon\">\r\n                  <FiArrowRight />\r\n                </i>\r\n              </Link>\r\n            </ScrollAnimation>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginScreen;\r\n"]},"metadata":{},"sourceType":"module"}